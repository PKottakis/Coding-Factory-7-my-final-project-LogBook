<!DOCTYPE html>
<html lang="el">
<head>
    <meta charset="UTF-8">
    <title>Î•ÏÏ‰Ï„Î®Î¼Î±Ï„Î± Logbook</title>
    <style>
        :root {
            --base-font-size: clamp(12px, 0.9vw + 0.35rem, 16px);
            --small-font-size: clamp(11px, 0.8vw + 0.25rem, 14px);
            --button-font-size: clamp(12px, 0.85vw + 0.35rem, 15px);
            --results-font-size: clamp(11px, 0.85vw + 0.3rem, 15px);
        }
        div.breadcrumbs {
            background: #fff;
            padding: 3px 40px;
            border-bottom: 1px solid #e0e0e0;
            color: #0C4B7F;
            text-align: left;
        }
        .breadcrumbs a {
            color: #0C4B7F;
            text-decoration: underline;
            transition: color 0.15s;
        }
        .breadcrumbs a:visited {
            color: #0C4B7F;
        }
        .breadcrumbs a:hover, .breadcrumbs a:active, .breadcrumbs a:focus {
            text-decoration: none;
            color: #1666a3;
            background: #e6f0fa;
            border-radius: 4px;
            outline: none;
        }
        .breadcrumbs span {
            color: #888;
            margin: 0 0.5em;
        }
        
        #custom-admin-header {
            background: #0C4B7F;
            color: #fff;
            padding: 0.8em 2em;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        body { 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            min-height: 100vh;
            margin: 0;
            text-align: center; 
            font-size: var(--base-font-size);
            margin-top: 0vh; 
        }
        .back-btn {
            display: inline-block;
            margin: 0 2em 2em 2em;
            padding: 0em 2em;
            font-size: var(--button-font-size);
            border: none;
            border-radius: 10px;
            background: linear-gradient(180deg, #218838 0%, #155d27 100%);
            color: #fff;
            cursor: pointer;
            transition: box-shadow 0.2s, transform 0.1s, background 0.2s;
            box-shadow: 0 2px 8px 0 rgba(33,136,56,0.13), 0 1.5px 4px 0 rgba(60,60,60,0.10);
        }
        .back-btn:hover {
            background: linear-gradient(180deg, #155d27 0%, #0b3314 100%);
            box-shadow: 0 4px 16px 0 rgba(33,136,56,0.18), 0 2px 8px 0 rgba(60,60,60,0.13);
            transform: translateY(-2px) scale(1.03);
        }
        /* Modern grid layout */
        .queries-layout {
            display: grid;
            grid-template-columns: 260px 1fr;
            gap: 1.5rem;
            align-items: start;
            margin: 1.5rem auto;
            padding: 0 1.25rem;
            max-width: 1200px;
            width: 100%;
            box-sizing: border-box;
        }
        .query-btn {
            display: block;
            margin: 0 0 1em 0;
            padding: 0.5em 2em;
            font-size: var(--button-font-size);
            font-weight: bold;
            border: none;
            border-radius: 10px;
            background: linear-gradient(180deg, #218838 0%, #155d27 100%);
            color: #fff;
            cursor: pointer;
            transition: box-shadow 0.2s, transform 0.1s, background 0.2s;
            align-self: stretch;
            width: 200px;
            box-sizing: border-box;
            height: 2.3em;
            min-height: unset;
            box-shadow: 0 2px 8px 0 rgba(33,136,56,0.13), 0 1.5px 4px 0 rgba(60,60,60,0.10);
        }
        .query-btn:hover {
            background: linear-gradient(180deg, #155d27 0%, #0b3314 100%);
            box-shadow: 0 4px 16px 0 rgba(33,136,56,0.18), 0 2px 8px 0 rgba(60,60,60,0.13);
            transform: translateY(-2px) scale(1.03);
        }
        .query-btn.modulation-focus, .query-btn.modulation-active {
            background: linear-gradient(180deg, #e0a96d 0%, #a9742a 100%) !important;
            color: #fff !important;
            box-shadow: 0 4px 16px 0 rgba(169, 116, 42, 0.18), 0 2px 8px 0 rgba(60,60,60,0.13);
        }
        .query-btn.decoding-focus, .query-btn.decoding-active,
        .query-btn.callsign-focus, .query-btn.callsign-active,
        .query-btn.date-focus, .query-btn.date-active {
            background: linear-gradient(180deg, #e0a96d 0%, #a9742a 100%) !important;
            color: #fff !important;
            box-shadow: 0 4px 16px 0 rgba(169, 116, 42, 0.18), 0 2px 8px 0 rgba(60,60,60,0.13);
        }
        .query-btn.pagination-btn {
            background: linear-gradient(180deg, #155d27 0%, #0b3314 100%) !important;
            color: #fff !important;
            box-shadow: 0 2px 8px 0 rgba(21,93,39,0.18), 0 1.5px 4px 0 rgba(60,60,60,0.10) !important;
            height: 3em;
        }
        .query-btn.pagination-btn:hover {
            background: linear-gradient(180deg, #0b3314 0%, #000 100%) !important;
            color: #fff !important;
            box-shadow: 0 4px 16px 0 rgba(21,93,39,0.22), 0 2px 8px 0 rgba(60,60,60,0.13) !important;
        }
        #results {
            min-width: 420px;
            max-width: 900px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            padding: 1.5em 1.5em 3.2em 1.5em;
            text-align: left;
            max-height: none;
            /* Fixed visible area for 14 rows even if there is less data */
            height: calc(12 * 3.4em); 
            font-size: var(--results-font-size);
            box-sizing: border-box;
            overflow: visible;
            margin-bottom: 0.05em;
            position: relative;
            z-index: 1;
        }
        .entry { border-bottom: 1px solid #eee; padding: 0.5em 0; }
        .entry:last-child { border-bottom: none; }
        .pagination-btn {
            padding: 0.5em 1em;
            font-size: 0.9em;
            height: 2em;
            min-height: unset;
            margin: 0 1em;
        }
        #results table, #results th, #results td {
            font-size: 1em;
            font-family: Arial, sans-serif;
        }
        #results table {
            width: 100%;
            border-collapse: collapse;
            font-size: var(--results-font-size);
            table-layout: fixed;
        }
        #results th, #results td {
            border-bottom: 1px solid #eee;
            padding: clamp(0.2em, 0.4vw, 0.5em) clamp(0.3em, 0.6vw, 0.6em);
            text-align: left;
            word-wrap: break-word;
            overflow-wrap: anywhere;
        }
        /* Placeholder rows to keep consistent height without overlap */
        #results tr.placeholder td { background: transparent; }
        #results th {
            background: #f2f2f2;
            font-weight: bold;
        }
        #results td.callsign, #results th.callsign {
            width: clamp(18ch, 24vw, 25ch);
            max-width: clamp(18ch, 24vw, 25ch);
            min-width: clamp(14ch, 18vw, 22ch);
            font-family: monospace;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        #results th.callsign, #results td.callsign {
            font-family: Arial, sans-serif;
            font-size: clamp(12px, 0.8vw + 0.4rem, 16px);
        }
        .band-box, .modulation-box, .decoding-box, .callsign-box, .date-box {
            border: 1px solid #bbb;
            background: #f7f7fa;
            border-radius: 5px;
            padding: 0.01em 0.05em 0.05em 0.05em;
            margin-top: 0.05em;
            margin-bottom: 0.01em;
            text-align: center;
            width: 100%;
            min-width: 0;
            max-width: 100%;
            min-height: 70px;
        }
        /* Ensure all buttons inside the left panel align and take full panel width */
        .button-panel .query-btn { width: 100%; align-self: stretch; }
        .button-panel {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            padding: 0.8em 0.5em 1em 0.5em;
            margin-bottom: 2em;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 260px;
            flex: 0 0 260px;
            position: sticky;
            top: 16px;
        }
        .button-panel .panel-title {
            font-weight: 700;
            color: #0C4B7F;
            margin: 0.2em 0 0.6em 0;
        }
        #pagination {
            text-align: left;
            margin-top: 1em;
            min-height: 2.5em;
            display: flex;
            justify-content: flex-start;
            align-items: center;
            width: 100%;
            max-width: 640px;
            margin-left: auto;
            margin-right: auto;
        }

        /* Results card wrapper modern styles */
        .results-card {
            background: rgba(255, 255, 255, 0.95) !important;
            backdrop-filter: blur(10px) !important;
            border: 2.5px solid rgba(255, 255, 255, 0.3) !important;
            border-radius: 18px !important;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1) !important;
            padding: 0 0 0.7em 0 !important;
            width: 100% !important;
            max-width: 100% !important;
            margin-left: 0 !important;
            margin-right: 0 !important;
            display: flex !important;
            flex-direction: column !important;
            /* Natural height; table will be padded with placeholder rows */
        }
        .results-footer {
            width: 100%;
            box-sizing: border-box;
            padding: 0 1rem;
            margin: 1.2em auto 0 auto;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.5em;
            flex-wrap: wrap;
            position: relative;
            z-index: 2;
        }
        .results-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            padding: 0.85rem 1rem 0 1rem;
        }
        .results-title {
            font-weight: 700; color: #0C4B7F; margin: 0;
        }
        .results-tools { display:flex; align-items:center; gap:0.5rem; }

        /* Responsive layout */
        @media (max-width: 1024px) {
            .queries-layout { grid-template-columns: 240px 1fr; gap: 1.25rem; }
            .button-panel { flex: 0 0 240px; width: 240px; }
        }
        @media (max-width: 840px) {
            .queries-layout { grid-template-columns: 1fr; gap: 1rem; }
            .button-panel { position: static; width: 100%; flex: 0 0 auto; }
            #results { min-width: auto; }
            .results-footer { padding: 0 0.8rem; }
        }
        @media (max-width: 640px) {
            #results { padding: 1.1em; }
            .band-box, .modulation-box, .decoding-box, .callsign-box, .date-box { width: 100%; min-width: 0; max-width: 100%; }
            .query-btn { width: 100%; }
            .results-footer { padding: 0 0.6rem; }
        }
    </style>
</head>
<body>
<!-- Î•Î½Î¿Ï€Î¿Î¹Î·Î¼Î­Î½Î¿ custom admin header -->
<div id="custom-admin-header">
    <div style="font-size:1.25em; font-weight:500;">
        ÎšÎ±Î»ÏÏ‚ Î®ÏÎ¸Î±Ï„Îµ, {{ request.user.get_username|default:"admin" }}.
    </div>
    <div style="font-size:1.5em; font-weight:bold; color:#fff; text-align:center; flex:1;">
        LogBook
    </div>
    <div style="font-size:1em; display: flex; align-items: center;">

        <a href="/admin/password_change/" style="color:#fff; text-decoration:underline; margin-right:1.5em;">Î‘Î»Î»Î±Î³Î® ÏƒÏ…Î½Î¸Î·Î¼Î±Ï„Î¹ÎºÎ¿Ï</a>
        <a href="#" id="help-link" style="color:#fff; text-decoration:underline; margin-right:1.5em;">Î’Î¿Î®Î¸ÎµÎ¹Î±</a>
        <form method="post" action="/admin/logout/" style="display:inline; margin:0; padding:0;">
            {% csrf_token %}
            <button type="submit" style="background:none; border:none; color:#fff; text-decoration:underline; cursor:pointer; font: inherit;">Î‘Ï€Î¿ÏƒÏÎ½Î´ÎµÏƒÎ·</button>
        </form>
        <span style="color:#fff; margin-left:1.5em;">SV1SXY Ver1.0</span>
    </div>
</div>
<!-- Help Modal -->
<div id="help-modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.6); z-index: 10000; align-items:center; justify-content:center; padding: 20px;">
    <div style="background:#ffffff; max-width: 900px; width: 100%; max-height: 90vh; overflow:auto; border-radius: 12px; box-shadow: 0 20px 40px rgba(0,0,0,0.25);">
        <div style="display:flex; align-items:center; justify-content:space-between; padding:16px 20px; border-bottom:1px solid #e5e7eb; background:#0C4B7F; color:#fff; border-top-left-radius:12px; border-top-right-radius:12px;">
            <h3 style="margin:0; font-size:18px;">Î’Î¿Î®Î¸ÎµÎ¹Î±</h3>
            <button id="help-close" aria-label="ÎšÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿" style="background:transparent; border:none; color:#fff; font-size:22px; cursor:pointer;">Ã—</button>
        </div>
        <div style="padding: 20px; color:#111827; line-height:1.6; text-align:left;">
            <p><strong>LogBook â€“ ÎˆÎºÎ´Î¿ÏƒÎ· 1</strong><br>
            Î”Î·Î¼Î¹Î¿Ï…ÏÎ³ÏŒÏ‚: Î Î±Î½Î±Î³Î¹ÏÏ„Î·Ï‚ ÎšÎ¿Ï„Ï„Î¬ÎºÎ·Ï‚  SV1SXY</p>
            <p>Î— ÎµÏ†Î±ÏÎ¼Î¿Î³Î® LogBook Î±Î½Î±Ï€Ï„ÏÏ‡Î¸Î·ÎºÎµ Ï‰Ï‚ Ï„ÎµÎ»Î¹ÎºÎ® ÎµÏÎ³Î±ÏƒÎ¯Î± Î³Î¹Î± Ï„Î¿ Ï€ÏÏŒÎ³ÏÎ±Î¼Î¼Î± Coding Factory 7 Ï„Î¿Ï… ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÎ¿Ï Î Î±Î½ÎµÏ€Î¹ÏƒÏ„Î·Î¼Î¯Î¿Ï… Î‘Î¸Î·Î½ÏÎ½.<br>
            Î£Ï„ÏŒÏ‡Î¿Ï‚ Î®Ï„Î±Î½ Î· Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î± ÎµÎ½ÏŒÏ‚ Î­ÏÎ³Î¿Ï… Î¼Îµ Ï€ÏÎ±Î³Î¼Î±Ï„Î¹ÎºÎ® Ï‡ÏÎ·ÏƒÎ¹Î¼ÏŒÏ„Î·Ï„Î±, ÏÏƒÏ„Îµ Î½Î± Î±Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎµÎ¹ Î­Î½Î± ÎµÏÎ³Î±Î»ÎµÎ¯Î¿ ÎºÎ±Î¹ ÏŒÏ‡Î¹ Î±Ï€Î»ÏÏ‚ Î¼Î¹Î± ÎºÏÎ´Î¹ÎºÎ±-ÎµÏÎ³Î±ÏƒÎ¯Î± Ï€Î¿Ï… Î¸Î± Î¾ÎµÏ‡Î±ÏƒÏ„ÎµÎ¯.</p>
            <p>Î— ÎµÏ†Î±ÏÎ¼Î¿Î³Î® Î±Ï†Î¿ÏÎ¬ Ï„Î·Î½ ÎºÎ±Ï„Î±Î³ÏÎ±Ï†Î® ÏÎ±Î´Î¹Î¿Ï†Ï‰Î½Î¹ÎºÏÎ½ ÏƒÏ„Î±Î¸Î¼ÏÎ½ (DX Radio) ÎºÎ±Î¹ ÎµÏ€Î±Ï†ÏÎ½ ÏÎ±Î´Î¹Î¿ÎµÏÎ±ÏƒÎ¹Ï„ÎµÏ‡Î½ÏÎ½ (LogBook).<br>
            Î— ÎºÎ¿Î¹Î½ÏŒÏ„Î·Ï„Î± Ï„Ï‰Î½ ÏÎ±Î´Î¹Î¿ÎµÏÎ±ÏƒÎ¹Ï„ÎµÏ‡Î½ÏÎ½ Î±ÏÎ¹Î¸Î¼ÎµÎ¯ Ï€ÎµÏÎ¹ÏƒÏƒÏŒÏ„ÎµÏÎ± Î±Ï€ÏŒ 3 ÎµÎºÎ±Ï„Î¿Î¼Î¼ÏÏÎ¹Î± Î¼Î­Î»Î· Ï€Î±Î³ÎºÎ¿ÏƒÎ¼Î¯Ï‰Ï‚. Î“Î¹Î± Ï„Î¿Î½ Î»ÏŒÎ³Î¿ Î±Ï…Ï„ÏŒ, ÏƒÎµ Î¼ÎµÎ»Î»Î¿Î½Ï„Î¹ÎºÎ­Ï‚ ÎµÎºÎ´ÏŒÏƒÎµÎ¹Ï‚ Ï€ÏÎ¿Î²Î»Î­Ï€ÎµÏ„Î±Î¹ Ï…Ï€Î¿ÏƒÏ„Î®ÏÎ¹Î¾Î· ÎµÏ€Î¹Ï€Î»Î­Î¿Î½ Î³Î»Ï‰ÏƒÏƒÏÎ½ ÎºÎ±Î¹ Î½Î­Ï‰Î½ Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¹ÏÎ½.</p>
            <p><strong>Î— Ï…Î»Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î²Î±ÏƒÎ¯ÏƒÏ„Î·ÎºÎµ ÏƒÎµ:</strong></p>
            <ul style="margin-top:0;">
                <li>Python Django</li>
                <li>SQLite3</li>
                <li>Vanilla JavaScript & CSS3</li>
                <li>Î¥Ï€Î¿ÏƒÏ„Î®ÏÎ¹Î¾Î· Î±Ï€ÏŒ AI ÎµÏÎ³Î±Î»ÎµÎ¯Î± ÏƒÎµ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î± ÏƒÎ·Î¼ÎµÎ¯Î±, Î³Î¹Î± ÎµÎ¾Î¿Î¹ÎºÎ¿Î½ÏŒÎ¼Î·ÏƒÎ· Ï‡ÏÏŒÎ½Î¿Ï….</li>
            </ul>
            <h4 style="margin-top:16px;">ÎŸÎ´Î·Î³Î¯ÎµÏ‚ Î§ÏÎ®ÏƒÎ·Ï‚</h4>
            <p>ÎœÎµÏ„Î¬ Ï„Î·Î½ ÎµÎºÏ„Î­Î»ÎµÏƒÎ· Ï„Î¿Ï… Ï€ÏÎ¿Î³ÏÎ¬Î¼Î¼Î±Ï„Î¿Ï‚, Î¼ÎµÏ„Î±Î²ÎµÎ¯Ï„Îµ ÏƒÏ„Î· Î´Î¹ÎµÏÎ¸Ï…Î½ÏƒÎ·:<br>
            <code>http://127.0.0.1:8000</code></p>
            <h4>ÎšÏÏÎ¹Î± ÎœÎµÎ½Î¿Ï</h4>
            <ol>
                <li>
                    Î•ÏÏ‰Ï„Î®Î¼Î±Ï„Î± ÏƒÏ„Î· Î’Î¬ÏƒÎ·
                    <ul>
                        <li>Î Î±ÏÎ­Ï‡ÎµÎ¹ Ï„Î· Î´Ï…Î½Î±Ï„ÏŒÏ„Î·Ï„Î± Ï€ÏÎ¿Î²Î¿Î»Î®Ï‚ Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Ï‡Ï‰ÏÎ¯Ï‚ Î½Î± Î±Ï€Î±Î¹Ï„ÎµÎ¯Ï„Î±Î¹  Ï‡ÏÎ®ÏƒÏ„Î·Ï‚.</li>
                    </ul>
                </li>
                <li>
                    Î”Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î¹ÎºÏŒ
                    <ul>
                        <li>ÎŒÎ½Î¿Î¼Î± Ï‡ÏÎ®ÏƒÏ„Î·: admin</li>
                        <li>Î£Ï…Î½Î¸Î·Î¼Î±Ï„Î¹ÎºÏŒ: 12345678</li>
                    </ul>
                </li>
            </ol>
            <p><strong>Î£Î·Î¼Î±Î½Ï„Î¹ÎºÏŒ:</strong> ÎšÎ±Ï„Î¬ Ï„Î·Î½ Ï€ÏÏÏ„Î· Ï‡ÏÎ®ÏƒÎ· Î±Î»Î»Î¬Î¾Ï„Îµ Î¬Î¼ÎµÏƒÎ± Ï„Î¿ email Ï€Î¿Ï… Ï„Î¿Ï… Ï‡ÏÎ®ÏƒÏ„Î· admin ÏÏƒÏ„Îµ Î½Î± Î»Î±Î¼Î²Î¬Î½ÎµÏ„Îµ OTP Î³Î¹Î± ÎµÏ€Î±Î½Î±Ï†Î¿ÏÎ¬ ÎºÏ‰Î´Î¹ÎºÎ¿Ï. Î£Ï…Î½Î¹ÏƒÏ„Î¬Ï„Î±Î¹ ÎµÏ€Î¯ÏƒÎ·Ï‚ Î· Î±Î»Î»Î±Î³Î® Ï„Î¿Ï… ÏƒÏ…Î½Î¸Î·Î¼Î±Ï„Î¹ÎºÎ¿Ï.</p>
            <h4>Î§ÏÎ®ÏƒÏ„ÎµÏ‚</h4>
            <ul>
                <li>
                    Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ·: ÎŸÏÎ¹ÏƒÎ¼ÏŒÏ‚ ÎŸÎ½ÏŒÎ¼Î±Ï„Î¿Ï‚ Ï‡ÏÎ®ÏƒÏ„Î·, Î£Ï…Î½Î¸Î·Î¼Î±Ï„Î¹ÎºÎ¿Ï ÎºÎ±Î¹ Email.
                    <ul>
                        <li>Î¤Î¿ email ÎµÎ¯Î½Î±Î¹ Î±Ï€Î±ÏÎ±Î¯Ï„Î·Ï„Î¿ Î³Î¹Î± Ï„Î·Î½ ÎµÏ€Î±Î½Î±Ï†Î¿ÏÎ¬ ÎºÏ‰Î´Î¹ÎºÎ¿Ï.</li>
                        <li>Î”Ï…Î½Î±Ï„ÏŒÏ„Î·Ï„Î± Î´Î·Î¼Î¹Î¿Ï…ÏÎ³Î¯Î±Ï‚ Î¿Î¼Î¬Î´Ï‰Î½ (Î»ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯Î± Ï…Ï€ÏŒ Î±Î½Î¬Ï€Ï„Ï…Î¾Î·).</li>
                        <li>Î”Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± Ï‡ÏÎ®ÏƒÏ„Î·: Î”Î¹Î±Ï‡ÎµÎ¹ÏÎ¹ÏƒÏ„Î®Ï‚ Î® Ï‡ÏÎ®ÏƒÏ„Î·Ï‚<br>
                        Î‘Î½ Î¸Î­Î»Î¿Ï…Î¼Îµ Î½Î± ÎµÎ¯Î½Î±Î¹ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Ï€.Ï‡. Î½Î± Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Ï€ÏÎ¿ÏƒÎ¸Î­Ï„ÎµÎ¹ Î¼ÏŒÎ½Î¿ ÏƒÏ„Î±Î¸Î¼Î¿ÏÏ‚ ÎºÎ±Î¹ Î½Î± Î¼Î· Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Î´Î¹Î±Î³ÏÎ¬Ï†ÎµÎ¹ Î· Î½Î± Î´Î¹Î¿ÏÎ¸ÏÎ½ÎµÎ¹ ÎµÏ€Î¹Î»Î­Î³Î¿Ï…Î¼Îµ Ï„Î± Î±Î½Î¬Î»Î¿Î³Î± Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± (ÏƒÏ…Î½Î®Î¸Ï‰Ï‚ Î³Î¹Î± ÏƒÏ…Î»Î»ÏŒÎ³Î¿Ï…Ï‚ Î¿Î¼Î¬Î´ÎµÏ‚ ÎºÎ»Ï€).</li>
                        <li>ÎœÏ€Î¿ÏÎ¿ÏÎ¼Îµ ÏƒÏ„Î·Î½ Ï€ÎµÏÎ¯Ï€Ï„Ï‰ÏƒÎ· admin Î½Î± ÎµÏ€Î¹Î»Î­Î¾Î¿Ï…Î¼Îµ Î¼Îµ Ï„Î¹Îº Ï„Î± Ï„ÏÎ¹Î± ÎºÎ¿Ï…Ï„Î¬ÎºÎ¹Î± ÎºÎ¬Ï„Ï‰ Î±Ï€ÏŒ Ï„Î¿ Ï€Î»Î±Î¯ÏƒÎ¹Î¿ Ï€Î¿Ï… Î²Î¬Î¶Î¿Ï…Î¼Îµ Ï„Î¿ email Î³Î¹Î± Î½Î± Î¼Î·Î½ Ï‡ÏÎµÎ¹Î±ÏƒÏ„Î¿ÏÎ¼Îµ Î½Î± Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎ¿Ï…Î¼Îµ Î´Î¹ÎºÎ±Î¹ÏÎ¼Î±Ï„Î± : Î•Î½ÎµÏÎ³ÏŒ , ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Ï€ÏÎ¿ÏƒÏ‰Ï€Î¹ÎºÎ¿Ï, ÎšÎ±Ï„Î¬ÏƒÏ„Î±ÏƒÎ· Ï…Ï€ÎµÏÏ‡ÏÎ®ÏƒÏ„Î·.</li>
                    </ul>
                </li>
                <li>Î•Ï€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î± / Î‘Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·: Î‘Î½Ï„Î¯ Î³Î¹Î± Î´Î¹Î±Î³ÏÎ±Ï†Î® Ï‡ÏÎ®ÏƒÏ„Î·, Ï€ÏÎ¿Ï„ÎµÎ¯Î½ÎµÏ„Î±Î¹ Î· Î±Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· Î¼Îµ Î±Ï†Î±Î¯ÏÎµÏƒÎ· Ï„Î¿Ï… â€œÏ„Î¹Îºâ€ Î±Ï€ÏŒ Ï„Î¿ Ï€ÎµÎ´Î¯Î¿ Î•Î½ÎµÏÎ³ÏŒ.</li>
            </ul>
            <h4>Î£Ï„Î±Î¸Î¼Î¿Î¯ & ÎœÏ€Î¬Î½Ï„ÎµÏ‚</h4>
            <ul>
                <li>
                    ÎœÏ€Î¬Î½Ï„ÎµÏ‚:
                    <ul>
                        <li>Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î½Î­Î±Ï‚ Î¼Ï€Î¬Î½Ï„Î±Ï‚ (Ï€.Ï‡. 40m Î· Î½Î± Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎ¿Ï…Î¼Îµ Î³Î¹Î± Î¼ÎµÎ»Î»Î¿Î½Ï„Î¹ÎºÎ® Ï‡ÏÎ®ÏƒÎ· ÎºÎ±Î¹ Î½Î± ÎµÎ¯Î½Î±Î¹ Î±Î½ÎµÎ½ÎµÏÎ³Î® Î­Ï‰Ï‚ Î½Î± Ï‡ÏÎµÎ¹Î±ÏƒÏ„ÎµÎ¯ Î½Î± Ï„Î·Î½ ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¹Î®ÏƒÎ¿Ï…Î¼Îµ).</li>
                        <li>Î‘Î»Î»Î±Î³Î® / Î•Î½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ· / Î‘Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·.</li>
                        <li>Î ÏÎ¿ÏƒÎ¿Ï‡Î®: Î— Î´Î¹Î±Î³ÏÎ±Ï†Î® Î¼Ï€Î¬Î½Ï„Î±Ï‚ Î±Ï†Î±Î¹ÏÎµÎ¯ ÎºÎ±Î¹ ÏŒÎ»ÎµÏ‚ Ï„Î¹Ï‚ ÏƒÏ‡ÎµÏ„Î¹ÎºÎ­Ï‚ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚.</li>
                    </ul>
                </li>
                <li>
                    Î£Ï„Î±Î¸Î¼Î¿Î¯:
                    <ul>
                        <li>Î ÏÎ¿ÏƒÎ¸Î®ÎºÎ· Î½Î­Î¿Ï… ÏƒÏ„Î±Î¸Î¼Î¿Ï Î® ÎµÏ€Î±Ï†Î®Ï‚.</li>
                        <li>Î— ÏƒÏ…Ï‡Î½ÏŒÏ„Î·Ï„Î± Î¼Î¿ÏÏ†Î¿Ï€Î¿Î¹ÎµÎ¯Ï„Î±Î¹ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± â€“ Ï€ÏÎ¿ÏƒÎ¿Ï‡Î® Î´ÎµÎ½ Î±Ï€Î±Î¹Ï„ÎµÎ¯Ï„Î±Î¹ ÎµÎ¹ÏƒÎ±Î³Ï‰Î³Î® Ï„ÎµÎ»ÎµÎ¹ÏÎ½ (Ï‡Î¹Î»Î¹Î¬Î´Ï‰Î½). (Ï€ÏÎ¹Î½ Ï„Î· Î±Ï€Î¿Î¸Î®ÎºÎµÏ…ÏƒÎ· Ï€ÏÎ±Î³Î¼Î±Ï„Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ ÎµÎ»Î­Î³Ï‡Ï‰ Î±Î½ Î· ÏƒÏ…Ï‡Î½Î¿Ï„Î®Ï„Î± ÎµÎ¯Î½Î±Î¹ ÏƒÏ‰ÏƒÏ„Î® Î»ÏŒÎ³Î¿ Ï„Î¿Ï… Î±Ï…Ï„Î¿Î¼Î±Ï„Î¹ÏƒÎ¼Î¿Ï)</li>
                        <li>Î¤Î± Î¼Î·Î½ÏÎ¼Î±Ï„Î± Î»Î¬Î¸Î¿Ï…Ï‚ Î¸Î± ÏƒÎ±Ï‚ ÎºÎ±Î¸Î¿Î´Î·Î³Î¿ÏÎ½ Î³Î¹Î± Î¿ÏÎ¸Î® ÎºÎ±Ï„Î±Ï‡ÏÏÎ·ÏƒÎ· (Ï€.Ï‡. Î±Î½Î±Î½Ï„Î¹ÏƒÏ„Î¿Î¹Ï‡Î¯Î± Î±Î½Î±Î»Î¿Î³Î¹ÎºÎ®Ï‚/ÏˆÎ·Ï†Î¹Î±ÎºÎ®Ï‚ ÎµÏ€Î±Ï†Î®Ï‚, Î´ÎµÎ½ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎµÏ€Î¹Î»Î­Î¾ÎµÏ„Îµ Î±Î½Î±Î»Î¿Î³Î¹ÎºÏŒ ÎºÎ±Î¹ FT8 Ï€Î¿Ï… ÎµÎ¯Î½Î±Î¹ ÏˆÎ·Ï†Î¹Î±ÎºÏŒ)</li>
                        <li>Î‘Î»Î»Î±Î³Î®: Î”Ï…Î½Î±Ï„ÏŒÏ„Î·Ï„Î± ÎµÏ€ÎµÎ¾ÎµÏÎ³Î±ÏƒÎ¯Î±Ï‚ Î® Î´Î¹Î±Î³ÏÎ±Ï†Î·Ï‚ .ÏƒÏ„Î± Ï†Î¯Î»Ï„ÏÎ± Ï€Î¿Ï… Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ Î´ÎµÎ¾Î¹Î¬  Î­Ï‡Î¿Ï…Î¼Îµ Ï„Î·Î½ Î´Ï…Î½Î±Ï„ÏŒÏ„Î·Ï„Î± Î½Î± Î±Î½Î±Î¶Î·Ï„Î®ÏƒÎ¿Ï…Î¼Îµ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚ ÎµÏ€Î±Ï†ÏÎ½ Î¼Îµ ÎºÏÎ¹Ï„Î®ÏÎ¹Î±, Ï€Ï‡ Î¼ÏŒÎ½Î¿ ÏˆÎ·Ï†Î¹Î±ÎºÎ¬ ÎºÎ±Î¹ 20m.</li>
                    </ul>
                </li>
            </ul>
            <h4>Î›ÎµÎ¹Ï„Î¿Ï…ÏÎ³Î¯ÎµÏ‚ Backup & Restore</h4>
            <ul>
                <li>
                    Backup Î’Î¬ÏƒÎ·Ï‚:
                    <ul>
                        <li>Î”Î·Î¼Î¹Î¿Ï…ÏÎ³ÎµÎ¯ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± Î±Î½Ï„Î¯Î³ÏÎ±Ï†Î¿ Î±ÏƒÏ†Î±Î»ÎµÎ¯Î±Ï‚.</li>
                        <li>Î‘Ï€Î¿Î¸Î·ÎºÎµÏÎµÏ„Î±Î¹ ÏƒÏ„Î¿Î½ Ï†Î¬ÎºÎµÎ»Î¿ Downloads Ï„Î¿Ï… Ï‡ÏÎ®ÏƒÏ„Î· (Î® ÏƒÏ„Î¿ Desktop / Ï†Î¬ÎºÎµÎ»Î¿ project ÎµÎ¬Î½ Î´ÎµÎ½ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹).</li>
                        <li>Î¤Î¿ Î±ÏÏ‡ÎµÎ¯Î¿ Î­Ï‡ÎµÎ¹ Î¼Î¿Î½Î±Î´Î¹ÎºÏŒ ÏŒÎ½Î¿Î¼Î± Î¼Îµ timestamp: <code>db_backup_YYYYMMDD_HHMMSS.sqlite3</code></li>
                    </ul>
                </li>
                <li>
                    Restore Î’Î¬ÏƒÎ·Ï‚:
                    <ul>
                        <li>Î‘Î½Ï„Î¹ÎºÎ±Î¸Î¹ÏƒÏ„Î¬ Ï„Î·Î½ Ï„ÏÎ­Ï‡Î¿Ï…ÏƒÎ± Î²Î¬ÏƒÎ· Î´ÎµÎ´Î¿Î¼Î­Î½Ï‰Î½ Î¼Îµ Ï„Î¿ ÎµÏ€Î¹Î»ÎµÎ³Î¼Î­Î½Î¿ backup.</li>
                        <li>Î ÏÎ±Î³Î¼Î±Ï„Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ Ï€Î¬Î½Ï„Î± backup Ï€ÏÎ¹Î½ Î±Ï€ÏŒ restore.</li>
                        <li>Î”Î·Î¼Î¹Î¿Ï…ÏÎ³Î¿ÏÎ½Ï„Î±Î¹ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± safety backups Î³Î¹Î± Î¼ÎµÎ³Î±Î»ÏÏ„ÎµÏÎ· Î±ÏƒÏ†Î¬Î»ÎµÎ¹Î±.</li>
                    </ul>
                </li>
            </ul>
            <h4>ÎšÎ±Î»Î­Ï‚ Î ÏÎ±ÎºÏ„Î¹ÎºÎ­Ï‚</h4>
            <ul>
                <li>âœ… Î†Î¼ÎµÏƒÎ· Î±Î»Î»Î±Î³Î® email & ÏƒÏ…Î½Î¸Î·Î¼Î±Ï„Î¹ÎºÎ¿Ï Ï„Î¿Ï… admin.</li>
                <li>âœ… Î§ÏÎ®ÏƒÎ· Î±Ï€ÎµÎ½ÎµÏÎ³Î¿Ï€Î¿Î¯Î·ÏƒÎ·Ï‚ Î±Î½Ï„Î¯ Î³Î¹Î± Î´Î¹Î±Î³ÏÎ±Ï†Î® Ï‡ÏÎ·ÏƒÏ„ÏÎ½.</li>
                <li>âœ… Î£Ï…Ï‡Î½Î¬ backup Ï€ÏÎ¹Î½ Î±Ï€ÏŒ ÎºÎ¬Î¸Îµ restore.</li>
            </ul>
            <h4>Î•Ï€Î¹ÎºÎ¿Î¹Î½Ï‰Î½Î¯Î±</h4>
            <p>Î“Î¹Î± Ï€ÏÎ¿Ï„Î¬ÏƒÎµÎ¹Ï‚ Î® Ï€Î±ÏÎ±Ï„Î·ÏÎ®ÏƒÎµÎ¹Ï‚ Î¼Ï€Î¿ÏÎµÎ¯Ï„Îµ Î½Î± ÎµÏ€Î¹ÎºÎ¿Î¹Î½Ï‰Î½ÎµÎ¯Ï„Îµ ÏƒÏ„Î¿ email:<br>
            ğŸ“§ <a href="mailto:sv1sxy@gmail.com">sv1sxy@gmail.com</a></p>
            <p><em>ÎˆÎºÎ´Î¿ÏƒÎ· 1</em></p>
        </div>
    </div>
</div>
<!-- Breadcrumbs bar below header -->
<div class="breadcrumbs">
    <a href="/">Î‘ÏÏ‡Î¹ÎºÎ®</a>
</div>
            <div class="queries-layout">
        <div class="button-panel">
            <h3 class="panel-title">Î¦Î¯Î»Ï„ÏÎ±</h3>
            <button class="query-btn" onclick="fetchAnalog(1)">Î•Ï€Î±Ï†Î­Ï‚ Analog</button>
            <button class="query-btn" onclick="fetchDigital(1)">Î•Ï€Î±Ï†Î­Ï‚ Digital</button>
            <div class="band-box">
                <button class="query-btn" style="margin-top:0.1em; cursor: default; pointer-events: none;">Î•Ï€Î±Ï†Î­Ï‚ Band</button>
                <label for="band-select" style="font-weight:bold; display:block; margin-top:0.05em;">Î•Ï€Î¹Î»Î¿Î³Î® Band:</label>
                <select id="band-select" style="font-size:1em; padding:0.3em 1em; margin:0 0.5em 1em 0.5em;"></select>
            </div>
            <div class="modulation-box">
                <button class="query-btn" id="modulation-btn" style="margin-top:0.1em; cursor: default; pointer-events: none;">Î•Ï€Î±Ï†Î­Ï‚ Modulation</button>
                <label for="modulation-select" style="font-weight:bold; display:block; margin-top:0.05em;">Î•Ï€Î¹Î»Î¿Î³Î® Modulation:</label>
                <select id="modulation-select" style="font-size:1em; padding:0.3em 1em; margin:0 0.5em 1em 0.5em;">
                    <option value="AM">AM</option>
                    <option value="FM">FM</option>
                    <option value="USB">USB</option>
                    <option value="LSB">LSB</option>
                    <option value="SSB">SSB</option>
                    <option value="CW">CW</option>
                </select>
            </div>
            <div class="decoding-box">
                <button class="query-btn" id="decoding-btn" style="margin-top:0.1em; cursor: default; pointer-events: none;">Î•Ï€Î±Ï†Î­Ï‚ Decoding</button>
                <label for="decoding-select" style="font-weight:bold; display:block; margin-top:0.05em;">Î•Ï€Î¹Î»Î¿Î³Î® Decoding:</label>
                <select id="decoding-select" style="font-size:1em; padding:0.3em 1em; margin:0 0.5em 1em 0.5em;">
                    <option value="C4FM">C4FM</option>
                    <option value="DMR">DMR</option>
                    <option value="DSTAR">DSTAR</option>
                    <option value="FAX">FAX</option>
                    <option value="FSK31">FSK31</option>
                    <option value="FT4">FT4</option>
                    <option value="FT8">FT8</option>
                    <option value="JT65">JT65</option>
                    <option value="JT9">JT9</option>
                    <option value="RTTY">RTTY</option>
                    <option value="SSTV">SSTV</option>
                </select>
            </div>
            <div class="callsign-box">
                <button class="query-btn" id="callsign-btn" style="margin-top:0.1em; cursor: default; pointer-events: none;">Î•ÏÏÎµÏƒÎ· Callsign</button>
                <label for="callsign-input" style="font-weight:bold; display:block; margin-top:0.05em;">Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Callsign:</label>
                <input id="callsign-input" type="text" maxlength="20" style="font-size:1em; padding:0.08em 0.2em; margin:0 0.5em 1em 0.5em; width:90%;" placeholder="Ï€.Ï‡. SV1ABC Î® SV1*" />
                <div style="font-size:0.8em; color:#666; margin-top:0.2em; text-align:center;">Î§ÏÎ·ÏƒÎ¹Î¼Î¿Ï€Î¿Î¹Î®ÏƒÏ„Îµ * Î³Î¹Î± wildcard</div>
            </div>
            <div class="date-box">
                <button class="query-btn" id="date-btn" style="margin-top:0.1em; cursor: default; pointer-events: none;">Î•ÏÏÎµÏƒÎ· Î—Î¼/Î½Î¯Î±Ï‚</button>
                <label for="date-input" style="font-weight:bold; display:block; margin-top:0.05em;">Î‘Î½Î±Î¶Î®Ï„Î·ÏƒÎ· Î—Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±Ï‚:</label>
                <input id="date-input" type="date" style="font-size:1em; padding:0.08em 0.2em; margin:0 0.5em 1em 0.5em; width:90%;" />
            </div>
        </div>
        <div style="width:100%;margin-left:0;">
            <div class="results-card">
                <div class="results-header">
                    <h3 class="results-title">Î‘Ï€Î¿Ï„ÎµÎ»Î­ÏƒÎ¼Î±Ï„Î±</h3>
                    <div class="results-tools">
                        <button class="query-btn pagination-btn" onclick="window.print()" style="height:2.4em;">Î•ÎºÏ„ÏÏ€Ï‰ÏƒÎ·</button>
                    </div>
                </div>
                <div id="results"></div>
                <div class='results-footer'>
                    <div id="pagination" style="margin:0;flex:0 0 160px;text-align:left;"></div>
                    <span id="page-info" style="font-size:1em;min-width:120px;display:inline-block;text-align:center;flex:1 1 auto;">Î£ÎµÎ»Î¯Î´Î± 1 Î±Ï€ÏŒ 1</span>
                    <button class="back-btn" onclick="window.location.href='/'" style="margin:0;flex:0 0 220px;padding:0.5em 3.2em;height:2.6em;min-height:unset;white-space:nowrap;vertical-align:middle;line-height:normal;">Î•Ï€Î¹ÏƒÏ„ÏÎ¿Ï†Î® ÏƒÏ„Î¿ ÎœÎµÎ½Î¿Ï</button>
                </div>
            </div>
        </div>
        </div>
    <script>
        let currentQuery = null;
        let currentPage = 1;
        let lastPage = 1;
        let lastNumPages = 1;

        function renderPagination(hasPrev, hasNext, page, numPages, fetchFn) {
            let html = '';
            // Î‘Î½ ÎµÎ¯Î¼Î±ÏƒÏ„Îµ ÏƒÏ„Î·Î½ Ï€ÏÏÏ„Î· ÏƒÎµÎ»Î¯Î´Î± ÎºÎ±Î¹ Ï…Ï€Î¬ÏÏ‡Î¿Ï…Î½ ÎºÎ¹ Î¬Î»Î»ÎµÏ‚, Î´ÎµÎ¯Î¾Îµ 'Î•Ï€ÏŒÎ¼ÎµÎ½Î·'.
            // Î‘Î½ ÎµÎ¯Î¼Î±ÏƒÏ„Îµ ÏƒÎµ ÎµÎ½Î´Î¹Î¬Î¼ÎµÏƒÎ· Î® Ï„ÎµÎ»ÎµÏ…Ï„Î±Î¯Î± ÏƒÎµÎ»Î¯Î´Î± ÎºÎ±Î¹ Ï…Ï€Î¬ÏÏ‡ÎµÎ¹ Ï€ÏÎ¿Î·Î³Î¿ÏÎ¼ÎµÎ½Î·, Î´ÎµÎ¯Î¾Îµ 'Î ÏÎ¿Î·Î³.'
            if (numPages > 1 && hasPrev) {
                html += `<button onclick=\"${fetchFn}(${page-1})\" class=\"query-btn pagination-btn\">&laquo; Î ÏÎ¿Î·Î³.</button>`;
            } else if (numPages > 1 && hasNext) {
                html += `<button onclick=\"${fetchFn}(${page+1})\" class=\"query-btn pagination-btn\">Î•Ï€ÏŒÎ¼ÎµÎ½Î· &raquo;</button>`;
            } else {
                html += `&nbsp;`;
            }
            document.getElementById('pagination').innerHTML = html;
            // Î•Î½Î·Î¼Î­ÏÏ‰ÏƒÎ· info
            document.getElementById('page-info').textContent = `Î£ÎµÎ»Î¯Î´Î± ${page} Î±Ï€ÏŒ ${numPages}`;
        }
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('page-info').textContent = 'Î£ÎµÎ»Î¯Î´Î± 1 Î±Ï€ÏŒ 1';
        });

        // Fixed rows per page (no scroll requirement)
        const dynamicPerPage = 15;
        // Help modal logic
        document.addEventListener('DOMContentLoaded', function() {
            var helpLink = document.getElementById('help-link');
            var helpModal = document.getElementById('help-modal');
            var helpClose = document.getElementById('help-close');
            if (helpLink && helpModal && helpClose) {
                helpLink.addEventListener('click', function(e) {
                    e.preventDefault();
                    helpModal.style.display = 'flex';
                });
                helpClose.addEventListener('click', function() {
                    helpModal.style.display = 'none';
                });
                helpModal.addEventListener('click', function(e) {
                    if (e.target === helpModal) {
                        helpModal.style.display = 'none';
                    }
                });
                document.addEventListener('keydown', function(e) {
                    if (e.key === 'Escape') {
                        helpModal.style.display = 'none';
                    }
                });
            }
        });

        function renderTable(results) {
            if (results.length === 0) return '<em>Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚.</em>';
            let html = '<table><thead><tr>' +
                '<th class="callsign">Callsign</th><th>Band</th><th>Î£Ï…Ï‡Î½ÏŒÏ„Î·Ï„Î±</th><th>Modulation</th><th>Decoding</th><th>Î—Î¼/Î½Î¯Î±</th><th>ÎÏÎ±</th>' +
                '</tr></thead><tbody>';
            html += results.map(entry =>
                `<tr>
                    <td class="callsign">${entry.Callsign_Station}</td>
                    <td>${entry.band}</td>
                    <td>${entry.Frequency}</td>
                    <td>${entry.Modulation ? entry.Modulation : '-'}</td>
                    <td>${entry.Decoding ? entry.Decoding : '-'}</td>
                    <td>${entry.Date}</td>
                    <td>${entry.Time}</td>
                </tr>`
            ).join('');
            // Pad with placeholder rows up to 14 rows to maintain height
            const targetRows = 14;
            const missing = Math.max(0, targetRows - results.length);
            if (missing > 0) {
                for (let i = 0; i < missing; i++) {
                    html += '<tr class="placeholder"><td colspan="7">&nbsp;</td></tr>';
                }
            }
            html += '</tbody></table>';
            return html;
        }

        function fetchAnalog(page=1) {
            currentQuery = 'analog';
            currentPage = page;
            const results = document.getElementById('results');
            const pagination = document.getElementById('pagination');
            results.innerHTML = 'Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...';
            pagination.innerHTML = '';
            fetch(`/queries/analog/?page=${page}`)
                .then(res => res.json())
                .then(data => {
                    if (data.results.length === 0) {
                        results.innerHTML = '<em>Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚ Î¼Îµ Analog = True.</em>';
                        pagination.innerHTML = '';
                        return;
                    }
                    results.innerHTML = renderTable(data.results);
                    renderPagination(data.has_previous, data.has_next, data.page, data.num_pages, 'fetchAnalog');
                })
                .catch(() => {
                    results.innerHTML = 'Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ·.';
                    pagination.innerHTML = '';
                });
        }
        function fetchDigital(page=1) {
            currentQuery = 'digital';
            currentPage = page;
            const results = document.getElementById('results');
            const pagination = document.getElementById('pagination');
            results.innerHTML = 'Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...';
            pagination.innerHTML = '';
            fetch(`/queries/digital/?page=${page}`)
                .then(res => res.json())
                .then(data => {
                    if (data.results.length === 0) {
                        results.innerHTML = '<em>Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚ Î¼Îµ Digital = True.</em>';
                        pagination.innerHTML = '';
                        return;
                    }
                    results.innerHTML = renderTable(data.results);
                    renderPagination(data.has_previous, data.has_next, data.page, data.num_pages, 'fetchDigital');
                })
                .catch(() => {
                    results.innerHTML = 'Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ·.';
                    pagination.innerHTML = '';
                });
        }

        window.addEventListener('DOMContentLoaded', () => {
            fetch('/queries/bands/')
                .then(res => res.json())
                .then(data => {
                    const select = document.getElementById('band-select');
                    select.innerHTML = data.bands.map(b => `<option value="${b}">${b}</option>`).join('');
                    
                    // Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· ÎµÎºÏ„Î­Î»ÎµÏƒÎ· ÏŒÏ„Î±Î½ ÎµÏ€Î¹Î»Î­Î³ÎµÏ„Î±Î¹ band
                    select.addEventListener('change', function() {
                        fetchBandEntries(1);
                    });
                    
                    // Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· ÎµÎºÏ„Î­Î»ÎµÏƒÎ· ÏŒÏ„Î±Î½ ÎµÏ€Î¹Î»Î­Î³ÎµÏ„Î±Î¹ modulation
                    const modulationSelect = document.getElementById('modulation-select');
                    modulationSelect.addEventListener('change', function() {
                        fetchModulationEntries(1);
                    });
                    
                    // Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· ÎµÎºÏ„Î­Î»ÎµÏƒÎ· ÏŒÏ„Î±Î½ ÎµÏ€Î¹Î»Î­Î³ÎµÏ„Î±Î¹ decoding
                    const decodingSelect = document.getElementById('decoding-select');
                    decodingSelect.addEventListener('change', function() {
                        fetchDecodingEntries(1);
                    });
                    
                    // Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· ÎµÎºÏ„Î­Î»ÎµÏƒÎ· ÏŒÏ„Î±Î½ Ï€Î»Î·ÎºÏ„ÏÎ¿Î»Î¿Î³ÎµÎ¯Ï„Î±Î¹ callsign Î¼Îµ debounce
                    const callsignInput = document.getElementById('callsign-input');
                    let callsignTimeout;
                    callsignInput.addEventListener('input', function() {
                        clearTimeout(callsignTimeout);
                        callsignTimeout = setTimeout(() => {
                            if (this.value.trim().length >= 2) {
                                fetchCallsignEntries(1);
                            }
                        }, 500); // 500ms delay
                    });
                    
                            // Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î· ÎµÎºÏ„Î­Î»ÎµÏƒÎ· ÏŒÏ„Î±Î½ ÎµÏ€Î¹Î»Î­Î³ÎµÏ„Î±Î¹ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±
        const dateInput = document.getElementById('date-input');
        dateInput.addEventListener('change', function() {
            if (this.value) {
                fetchDateEntries(1);
            }
        });
        
        // Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î¿ logout ÏŒÏ„Î±Î½ ÎºÎ»ÎµÎ¯Î½ÎµÎ¹ Î¿ browser
        window.addEventListener('beforeunload', function() {
            // Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® logout request Î¼Îµ sendBeacon Î±Î½ Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶ÎµÏ„Î±Î¹
            if (navigator.sendBeacon) {
                navigator.sendBeacon('/auto_logout/', '');
            } else {
                // Î•Î½Î±Î»Î»Î±ÎºÏ„Î¹ÎºÎ® Î»ÏÏƒÎ· Î¼Îµ XMLHttpRequest
                var xhr = new XMLHttpRequest();
                xhr.open('POST', '/auto_logout/', false);
                xhr.send();
            }
        });
        
        // Î‘Ï…Ï„ÏŒÎ¼Î±Ï„Î¿ logout ÏŒÏ„Î±Î½ Î³Î¯Î½ÎµÏ„Î±Î¹ unload (ÎºÎ»ÎµÎ¯ÏƒÎ¹Î¼Î¿ tab/window)
        window.addEventListener('unload', function() {
            // Î‘Ï€Î¿ÏƒÏ„Î¿Î»Î® logout request Î¼Îµ sendBeacon Î±Î½ Ï…Ï€Î¿ÏƒÏ„Î·ÏÎ¯Î¶ÎµÏ„Î±Î¹
            if (navigator.sendBeacon) {
                navigator.sendBeacon('/auto_logout/', '');
            } else {
                // Î•Î½Î±Î»Î»Î±ÎºÏ„Î¹ÎºÎ® Î»ÏÏƒÎ· Î¼Îµ XMLHttpRequest
                var xhr = new XMLHttpRequest();
                xhr.open('POST', '/auto_logout/', false);
                xhr.send();
            }
        });
                });
        });

        function fetchBandEntries(page=1) {
            const band = document.getElementById('band-select').value;
            const results = document.getElementById('results');
            const pagination = document.getElementById('pagination');
            results.innerHTML = 'Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...';
            pagination.innerHTML = '';
            fetch(`/queries/band_entries/?band=${encodeURIComponent(band)}&page=${page}`)
                .then(res => res.json())
                .then(data => {
                    if (data.results.length === 0) {
                        results.innerHTML = '<em>Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚ Î³Î¹Î± Î±Ï…Ï„Î® Ï„Î· Band.</em>';
                        pagination.innerHTML = '';
                        return;
                    }
                    results.innerHTML = renderTable(data.results);
                    renderPagination(data.has_previous, data.has_next, data.page, data.num_pages, 'fetchBandEntries');
                })
                .catch(() => {
                    results.innerHTML = 'Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ·.';
                    pagination.innerHTML = '';
                });
        }

        function fetchModulationEntries(page=1) {
            const modulation = document.getElementById('modulation-select').value;
            const results = document.getElementById('results');
            const pagination = document.getElementById('pagination');
            results.innerHTML = 'Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...';
            pagination.innerHTML = '';
            fetch(`/queries/modulation_entries/?modulation=${encodeURIComponent(modulation)}&page=${page}`)
                .then(res => res.json())
                .then(data => {
                    if (data.results.length === 0) {
                        results.innerHTML = '<em>Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚ Î³Î¹Î± Î±Ï…Ï„ÏŒ Ï„Î¿ Modulation.</em>';
                        pagination.innerHTML = '';
                        return;
                    }
                    results.innerHTML = renderTable(data.results);
                    renderPagination(data.has_previous, data.has_next, data.page, data.num_pages, 'fetchModulationEntries');
                })
                .catch(() => {
                    results.innerHTML = 'Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ·.';
                    pagination.innerHTML = '';
                });
        }

        function fetchDecodingEntries(page=1) {
            const decoding = document.getElementById('decoding-select').value;
            const results = document.getElementById('results');
            const pagination = document.getElementById('pagination');
            results.innerHTML = 'Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...';
            pagination.innerHTML = '';
            fetch(`/queries/decoding_entries/?decoding=${encodeURIComponent(decoding)}&page=${page}`)
                .then(res => res.json())
                .then(data => {
                    if (data.results.length === 0) {
                        results.innerHTML = '<em>Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚ Î³Î¹Î± Î±Ï…Ï„ÏŒ Ï„Î¿ Decoding.</em>';
                        pagination.innerHTML = '';
                        return;
                    }
                    results.innerHTML = renderTable(data.results);
                    renderPagination(data.has_previous, data.has_next, data.page, data.num_pages, 'fetchDecodingEntries');
                })
                .catch(() => {
                    results.innerHTML = 'Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ·.';
                    pagination.innerHTML = '';
                });
        }

        function fetchCallsignEntries(page=1) {
            const callsign = document.getElementById('callsign-input').value.trim();
            const results = document.getElementById('results');
            const pagination = document.getElementById('pagination');
            
            // ÎˆÎ¾Ï…Ï€Î½Î¿Î¹ ÎºÎ±Î½ÏŒÎ½ÎµÏ‚ Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·Ï‚
            if (callsign.length === 0) {
                results.innerHTML = '<em>Î Î»Î·ÎºÏ„ÏÎ¿Î»Î¿Î³Î®ÏƒÏ„Îµ Î­Î½Î± callsign Î³Î¹Î± Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·.</em>';
                pagination.innerHTML = '';
                return;
            }
            
            // Î‘Ï†Î±Î¯ÏÎµÏƒÎ· ÎµÎ¹Î´Î¹ÎºÏÎ½ Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÏ‰Î½ ÎºÎ±Î¹ ÎºÎµÎ½ÏÎ½
            let cleanCallsign = callsign.replace(/[^A-Za-z0-9]/g, '').toUpperCase();
            
            if (cleanCallsign.length < 2) {
                results.innerHTML = '<em>Î Î»Î·ÎºÏ„ÏÎ¿Î»Î¿Î³Î®ÏƒÏ„Îµ Ï„Î¿Ï…Î»Î¬Ï‡Î¹ÏƒÏ„Î¿Î½ 2 Ï‡Î±ÏÎ±ÎºÏ„Î®ÏÎµÏ‚ Î³Î¹Î± Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·.</em>';
                pagination.innerHTML = '';
                return;
            }
            
            // Î”ÎµÎ½ Ï€ÏÎ¿ÏƒÎ¸Î­Ï„Î¿Ï…Î¼Îµ Î±Ï…Ï„ÏŒÎ¼Î±Ï„Î± wildcard - Î¿ Ï‡ÏÎ®ÏƒÏ„Î·Ï‚ Î¼Ï€Î¿ÏÎµÎ¯ Î½Î± Ï„Î¿ ÎºÎ¬Î½ÎµÎ¹ Î¼ÏŒÎ½Î¿Ï‚ Ï„Î¿Ï…
            // Î‘Î½ Î¸Î­Î»ÎµÎ¹ Î½Î± Î²ÏÎµÎ¹ ÏŒÎ»Î± Ï„Î± callsigns Ï€Î¿Ï… Î¾ÎµÎºÎ¹Î½Î¬Î½Îµ Î¼Îµ ÎºÎ¬Ï„Î¹, Î±Ï‚ Ï€ÏÎ¿ÏƒÎ¸Î­ÏƒÎµÎ¹ *
            
            results.innerHTML = 'Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...';
            pagination.innerHTML = '';
            fetch(`/queries/callsign_entries/?callsign=${encodeURIComponent(cleanCallsign)}&page=${page}`)
                .then(res => res.json())
                .then(data => {
                    if (data.results.length === 0) {
                        results.innerHTML = '<em>Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚ Î³Î¹Î± Î±Ï…Ï„ÏŒ Ï„Î¿ Callsign. Î”Î¿ÎºÎ¹Î¼Î¬ÏƒÏ„Îµ Î¼Îµ wildcard (*) Î³Î¹Î± ÎµÏ…ÏÏÏ„ÎµÏÎ· Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·.</em>';
                        pagination.innerHTML = '';
                        return;
                    }
                    results.innerHTML = renderTable(data.results);
                    renderPagination(data.has_previous, data.has_next, data.page, data.num_pages, 'fetchCallsignEntries');
                })
                .catch(() => {
                    results.innerHTML = 'Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ·.';
                    pagination.innerHTML = '';
                });
        }

        function fetchDateEntries(page=1) {
            const date = document.getElementById('date-input').value;
            const results = document.getElementById('results');
            const pagination = document.getElementById('pagination');
            if (!date) {
                results.innerHTML = '<em>Î•Ï€Î¹Î»Î­Î¾Ï„Îµ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î± Î³Î¹Î± Î±Î½Î±Î¶Î®Ï„Î·ÏƒÎ·.</em>';
                pagination.innerHTML = '';
                return;
            }
            results.innerHTML = 'Î¦ÏŒÏÏ„Ï‰ÏƒÎ·...';
            pagination.innerHTML = '';
            fetch(`/queries/date_entries/?date=${encodeURIComponent(date)}&page=${page}`)
                .then(res => res.json())
                .then(data => {
                    if (data.results.length === 0) {
                        results.innerHTML = '<em>Î”ÎµÎ½ Î²ÏÎ­Î¸Î·ÎºÎ±Î½ ÎµÎ³Î³ÏÎ±Ï†Î­Ï‚ Î³Î¹Î± Î±Ï…Ï„Î® Ï„Î·Î½ Î·Î¼ÎµÏÎ¿Î¼Î·Î½Î¯Î±.</em>';
                        pagination.innerHTML = '';
                        return;
                    }
                    results.innerHTML = renderTable(data.results);
                    renderPagination(data.has_previous, data.has_next, data.page, data.num_pages, 'fetchDateEntries');
                })
                .catch(() => {
                    results.innerHTML = 'Î£Ï†Î¬Î»Î¼Î± ÎºÎ±Ï„Î¬ Ï„Î· Ï†ÏŒÏÏ„Ï‰ÏƒÎ·.';
                    pagination.innerHTML = '';
                });
        }

        // Highlight Modulation button when select is focused
        const modulationSelect = document.getElementById('modulation-select');
        const modulationBtn = document.getElementById('modulation-btn');
        if (modulationSelect && modulationBtn) {
            modulationSelect.addEventListener('focus', function() {
                modulationBtn.classList.add('modulation-focus');
            });
            modulationSelect.addEventListener('blur', function() {
                modulationBtn.classList.remove('modulation-focus');
            });
            modulationBtn.addEventListener('click', function() {
                modulationBtn.classList.remove('modulation-focus');
                modulationBtn.classList.add('modulation-active');
                setTimeout(() => modulationBtn.classList.remove('modulation-active'), 200);
            });
        }

        // Highlight Band button when select is focused
        const bandSelect = document.getElementById('band-select');
        const bandBtn = document.querySelector('.band-box .query-btn');
        if (bandSelect && bandBtn) {
            bandSelect.addEventListener('focus', function() {
                bandBtn.classList.add('modulation-focus');
            });
            bandSelect.addEventListener('blur', function() {
                bandBtn.classList.remove('modulation-focus');
            });
        }

        // Highlight Decoding button when select is focused
        const decodingSelect = document.getElementById('decoding-select');
        const decodingBtn = document.getElementById('decoding-btn');
        if (decodingSelect && decodingBtn) {
            decodingSelect.addEventListener('focus', function() {
                decodingBtn.classList.add('decoding-focus');
            });
            decodingSelect.addEventListener('blur', function() {
                decodingBtn.classList.remove('decoding-focus');
            });
            decodingBtn.addEventListener('click', function() {
                decodingBtn.classList.remove('decoding-focus');
                decodingBtn.classList.add('decoding-active');
                setTimeout(() => decodingBtn.classList.remove('decoding-active'), 200);
            });
        }

        // Highlight Callsign button when input is focused
        const callsignInput = document.getElementById('callsign-input');
        const callsignBtn = document.getElementById('callsign-btn');
        if (callsignInput && callsignBtn) {
            callsignInput.addEventListener('focus', function() {
                callsignBtn.classList.add('callsign-focus');
            });
            callsignInput.addEventListener('blur', function() {
                callsignBtn.classList.remove('callsign-focus');
            });
            callsignBtn.addEventListener('click', function() {
                callsignBtn.classList.remove('callsign-focus');
                callsignBtn.classList.add('callsign-active');
                setTimeout(() => callsignBtn.classList.remove('callsign-active'), 200);
            });
        }

        // Highlight Date button when input is focused
        const dateInput = document.getElementById('date-input');
        const dateBtn = document.getElementById('date-btn');
        if (dateInput && dateBtn) {
            dateInput.addEventListener('focus', function() {
                dateBtn.classList.add('date-focus');
            });
            dateInput.addEventListener('blur', function() {
                dateBtn.classList.remove('date-focus');
            });
            dateBtn.addEventListener('click', function() {
                dateBtn.classList.remove('date-focus');
                dateBtn.classList.add('date-active');
                setTimeout(() => dateBtn.classList.remove('date-active'), 200);
            });
        }


    </script>
</body>
</html> 